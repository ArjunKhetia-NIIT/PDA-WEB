{% load widget_tweaks %}
{% load static %}


{% block styles %}
<link rel="stylesheet" href="{% static 'custom.css' %}" type="text/css">
<link rel="stylesheet" href="{% static 'form.css' %}" type="text/css">
{% endblock %}


<form method="post" enctype="multipart/form-data" id="topicUpdateForm"
      data-url="{% url 'topic_update' form.instance.pk %}" class="update-topic-form"
      xmlns="http://www.w3.org/1999/html">
     {% csrf_token %}
    <div class="modal-header" id="topic-modal-header" >
        <button type="button" class="close" data-dismiss="modal" onclick="pageReload()">&times;</button>
    </div>
    <div class="modal-body" class="form-style-10" id="topic-modal-body">
        <div id="topic-name">
            <p id="topic-label"><b>Topic</b></p>
            <b id="topic-name-field">
                {{ form.instance.name }}
            </b>
        </div>
        <div id="loaderImage">
            <img id="topic-loader-img" src="{% static 'images/loader.gif' %}"/>
        </div>
        <div id="topic-description">
            <p id="topic-description-label"><b>Description</b></p>
            <p style="font-size:12px;">
                {% with WIDGET_ERROR_CLASS='my_error' WIDGET_REQUIRED_CLASS='my_required' %}
                {{ form.instance.description }}
                {% endwith %}
            </p>
        </div>
        <div class="col-md-12" id="topic-demo" style="float: left;">
            <div class="col-md-3" id="topic-demo-div" style="float: left;">
            </div>
            <div class="col-md-8" style="overflow:scroll; overflow-y:auto; overflow-x:hidden; height:95px;float: left;">
                <div class="col-md-6" style="padding-left:0px; padding-top: 14px;float:left;" id="file-preview">
                    <div></div>
                </div>
                <div class="col-md-6" style="padding-top:15px;float: left;" id="removeFile">
                    <div></div>
                </div>
            </div>
        </div>
        <div class="form-group">
            <div class="input-group" style="padding-top: 15px;">
                <div id="topic-file-upload-2">
                    <div style="position: relative;">
                        <div>
                            <input type="file" id="handleFiles" class="file" name="attachment"/>
                        </div>
                        <div id="topic-file-image-2">
                            <span id="topic-upload-image" style="color:#cf5e56;">
                                <img id="topic-add-content" src="{% static 'images/add_button.png' %}" width="20px" height="20px" style=""/> Add Content
                            </span>
                            {{ form.topic }}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer" id="topic-footer">
        <button type="submit" id="topic-save" class="btn btn-primary">
            Save & Close
        </button>
    </div>
</form>
<script src="{% static 'js/plugin.js' %}"></script>

<script>
    function pageReload() {
        disableScreen();
        window.location.reload();
    }
</script>
